{% extends "layout.html" %}

{% block main %}
  <div>
    <div style="padding-top: 10%;">
        <form action="/quote" method="POST" style="color: deeppink;">
            <div class="form-group flex-direction-row">
                <label for="quote" style="font-weight: bold; margin-right: 2%;">Ticker</label>
                <input type="text" placeholder="Ticker Symbol" name=ticker id="ticker">
                <input type="submit" value="Search">
            </div>
        </form>
        <div style="color: red;">
          <h3>{{ message }}</h3>
        </div>
    </div>


    <div class="bg-light">
      <table class="table table-bordered table-hover table-responsive-sm">
          <thead class="table-borderless th">
              <tr>
                  <th scope="col"style="height: 50px; width: 50%;">User: {{ username }}</th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                  <th scope="col"style="text-align:right"> {{ current_datetime }}</th>
              </tr>
          </thead>
    </div>


    <div class="bg-light">
        <table class="table table-bordered table-hover table-responsive-sm">
            <thead class="table-borderless th">
                <tr>
                    <th scope="col"style="height: 50px; width: 50%;">Available Cash:    {{ availableCash }}</th>
                    <!-- <th scope="col" style="width: 135px;">{{ availableCash }}</th> -->
                    <th scope="col" style="width: 50%;">Total Investments:    {{totalInvestments}}</th>
                    <!-- <th scope="col">{{ totalInvestments }}</th> -->
                </tr>
            </thead>
    </div>

    <div class="bg-light" style="color: blueviolet;">

        <!-- {{ companyName }} <br>
        {{ symbol }} <br>
        {{ price }} <br>
        {{ bidPrice }} <br>
        {{ askPrice }} <br>
        {{ week52High }} <br>
        {{ week52Low }} <br>
        {{ marketCap }} <br>
        {{ volume }} <br>
        {{ avgTotalVolume }} <br>
        {{ primaryExchange }} <br> -->

        <table class="table table-bordered table-hover table-responsive-sm">
            <thead>
              <tr>
                <th scope="col"style="height: 50px">Company</th>
                <th scope="col" style="width: 135px;">{{ companyName }}</th>
                <th scope="col">{{ symbol }}</th>
                <th scope="col">{{ primaryExchange }}</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row" style="width: 15%;">Price (USD)</th>
                <td>{{ price }}</td>
                <th scope="row">Volume</th>
                <td style="width: 135px;">{{ volume }}</td>
              </tr>
              <tr>
                <th scope="row">Bid Price</th>
                <td>{{ bidPrice }}</td>
                <th scope="row">Avg. Total Volume</th>
                <td>{{ avgTotalVolume }}</td>
              </tr>
              <tr>
                <th scope="row">Ask Price</th>
                <td>{{ askPrice }}</td>
                <th scope="row" style="width: 20%;">Market Capitalization</th>
                <td>{{ marketCap }}</td>
                
              </tr>
              <tr>
                <th scope="row">52-Wk High</th>
                <td>{{ week52High }}</td>
                <th scope="row">52-Wk Low</th>
                <td>{{ week52Low }}</td>
              </tr>
            </tbody>
          </table>
    </div>
    
    <div class="d-flex justify-content-end" style="font-weight: bolder;">
      <h4 style="color: goldenrod;">Steps:</h4><br>
      <ol style="color: deeppink">
        <li>Input total shares in EITHER ONLY the "Buy or Sell" Quantity"</li>
        <li>Click "Update Estimate"</li>
        <li>After, you may "Execute" the Buy or Sell Trade</li>
      </ol>
    </div>

    <form action="/buy" method="POST">
      <div class="bg-light form-group">
          <table class="table table-bordered table-responsive-sm table-borderless th">
              <thead>
                  <tr>
                      <th scope="col">Order Type:</th>
                      <th scope="col">Buy</th>
                      <th scope="col"></th>
                      <th scope="col">Sell</th>

                  </tr>

              </thead>

              <tbody>
                <tr>
                  <th scope="col">(Ask) Price</th>
                  <!-- <th scope="col">{{ askPrice }}</th> -->
                  <th scope="col">{{ price }}</th>
                  <th scope="col">(Bid) Price</th>
                  <th scope="col">{{ price }}</th>
                </tr>
                <tr>
                  <th scope="col">Buy Quantity</th>
                  <!-- <th scope="col"><input type="text" name="buyQuantity" id="buyQuantity" placeholder="0"></th> -->
                  <th scope="col"><input type="text" name="buyQuantity" id="buyQuantity" placeholder="0"></th>
                  <th scope="col">Sell Quantity</th>
                  <th scope="col"><input type="text" name="sellQuantity" id="sellQuantity" placeholder="0"></th>
                </tr>
                <tr>
                  <th scope="col">Estimated Total</th>
                  <th scope="col">{{ buyEstimate }}</th>
                  <th scope="col"></th>
                  <th scope="col">{{ sellEstimate }}</th>
                </tr>
              </tbody>
            </table>
      </div>

      <div class="form-group d-flex justify-content-center">
          <button class="btn btn-primary btn-sm" type="submit" value="updateEstimate">Update Estimate</button>
      </div>
    </form>
  
{% endblock %}